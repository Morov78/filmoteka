!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},r=t.parcelRequirea340;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequirea340=r);var a=r("bpxeT"),i=r("2TvXO"),c=r("7kasF"),u=r("g9G2c"),s=r("fN9hh"),l=r("4Nugj"),d=r("h6c0i");r("h6c0i");l=r("4Nugj");var g=r("dmFdG"),f=r("9WW1v"),h=r("7Y7fB");function m(){var e=document.documentElement.style.getPropertyValue("--scroll-y");return console.log(e),l.refs.modalPagination.classList.toggle("is-hidden"),(0,h.funcControlArts)(document.querySelectorAll(".t-js")),document.querySelector("[modal-pagination]").classList.contains("is-hidden")?(g.close.blockScroll("auto","","",""),window.scrollTo(0,-1*parseInt(document.body.style.top||"0"))):g.close.blockScroll("scroll","".concat(e),"".concat((0,f.controlScreen)()),"fixed")}function p(e){e.preventDefault();var t=e.currentTarget.elements.page.value;l.refs.backdropPagination.dataset.page=t,v()}function v(e){document.querySelector("body").classList.remove("is-open"),l.refs.formPagination.elements.page.value="",m(document.querySelector("body").classList)}function y(e){e.target.classList.contains("backdrop")&&v(),e.target.classList.contains("button_no")&&v()}var b=r("1WSnx"),S={title:{"en-US":"home","uk-UA":"головна"},library:{"en-US":"my library","uk-UA":"моя бібліотека"},authorization:{"en-US":"Authorization","uk-UA":"Авторизація"}};function L(e){for(var t in S){var n=".lang-"+t;document.querySelector(n).innerHTML=S[t][e]}var o=document.querySelector(".lang-input");o.placeholder="uk-UA"===e?"Пошук фільму":"Movie search"}console.log(S),l.refs.languageSwitch=document.querySelector(".language__input");var k="home",x=["en-US","uk-UA"],w=new(0,s.default);function q(){"home"===k?P():w.fetchMovieByQuery().then((function(e){C(),(0,u.renderMoviesList)(e.results,w.pageCounter,w.maxPages)})).catch((function(e){return e})),(0,u.scrollToTop)()}function P(){w.fetchTopMovies().then((function(e){C(),(0,u.renderMoviesList)(e,w.pageCounter,w.maxPages)}))}function C(){l.refs.galleryList.innerHTML="",l.refs.pagginationList.innerHTML=""}function T(){return(T=e(a)(e(i).mark((function t(n){var o,r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.target.checked,r=w.language,w.language=o?x[0]:x[1],r!==w.language){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,w.getGenresList();case 7:q(),location.href=window.location.pathname,location.reload();case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}!function(){w.language;var e=JSON.parse(localStorage.getItem("language"))||x[0];w.language=e,document.querySelector("body").classList.add("".concat(e)),l.refs.languageSwitch.checked=e===x[0];L(e)}(),w.getGenresList(),d.Notify.init({position:"center-top",timeout:3e3,distance:"15px",width:"390px",fontSize:"14px",cssAnimationStyle:"from-top",cssAnimationDuration:600,showOnlyTheLastOne:!0,useIcon:!1,clickToClose:!0,failure:{background:"rgba(0,0,0,0.1)",textColor:"#FF001B",notiflixIconColor:"rgba(200,0,0,0.4)"},success:{background:"rgba(0,0,0,0.7)",textColor:"#32c682",notiflixIconColor:"rgba(50,200,130,0.4)"}}),l.refs.pagginationList.addEventListener("click",(function(e){var t=e.target.dataset.page;if("..."===t)return void(n=w.maxPages,new Promise((function(e,t){l.refs.closeModalBtn.addEventListener("click",v),l.refs.formPagination.addEventListener("submit",p),l.refs.backdropPagination.addEventListener("click",y),l.refs.modalPagination.querySelector("#pagination-input").setAttribute("max",n),l.refs.backdropPagination.dataset.page="0",m();var o=null;o=setInterval((function(){if(l.refs.modalPagination.classList.contains("is-hidden")){var n=l.refs.backdropPagination.dataset.page;clearInterval(o),0!==Number(n)?e(n):t("перехід не відбувся")}}),300)}))).then((function(e){Number(e)!==w.pageCounter&&(console.log("перехід на сторінку ",e),w.pageCounter=Number(e),q())})).catch((function(e){return console.log(e)}));var n;if(!t)return;w.pageCounter=Number(t),q()})),l.refs.form.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget.elements.searchQuery.value.trim();if(l.refs.form.elements.searchQuery.value="",""===t)return void d.Notify.failure("Please enter something",{width:"180px"});w.searchQuery=t;var n=w.pageCounter;w.pageCounter=1,w.fetchMovieByQuery().then((function(e){if(console.log(e),0===e.results.length)return d.Notify.failure("Search result not successful.. Enter the correct movie name"),void(w.pageCounter=n);w.maxPages=e.total_pages,k="search",C(),(0,u.renderMoviesList)(e.results,w.pageCounter,w.maxPages)})).catch((function(e){return e}))})),l.refs.galleryList.classList.add("home"),l.refs.avtoLogin.addEventListener("click",(function(){if("true"!=(document.querySelector("[data-auth]").dataset.auth=window.localStorage.getItem("auth")))return document.querySelector(".js-auth").setAttribute("href","https://dmytrovoitovych.github.io/pr/js/AutoForm/form.html")})),l.refs.languageSwitch.addEventListener("change",(0,b.debounce)((function(e){return T.apply(this,arguments)}),500)),console.log(document.querySelector(".language__input").checked),(0,c.btnDayNight)(),P(),"true"!=(document.querySelector("[data-auth]").dataset.auth=window.localStorage.getItem("auth"))?document.querySelector(".auth-chek").classList.add("visually-hidden"):(document.querySelector(".auth-chek").style.opacity="1",document.querySelector(".auth-chek").classList.remove("visually-hidden"))}();
//# sourceMappingURL=index.e431495a.js.map
