{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,8ECAAA,EAAA,SCAAC,EAAAD,EAAA,SDEA,I,uCCmCA,SAASE,IACP,IAAMC,EAAUC,SAASC,gBAAgBC,MAAMC,iBAAiB,cAK5C,OAJpBC,QAAQC,IAAIN,GACZF,EAAAS,KAAKC,gBAAgBC,UAAUC,OAAO,cACtC,EAAAC,EAAAC,iBAAgBX,SAASY,iBAAiB,UAGxCZ,SAASa,cAAc,sBAAsBL,UAAUM,SAAS,cAEhEC,EAAAC,MAAMC,YAAY,OAAS,GAAI,GAAG,IAC3BC,OAAOC,SAAS,GAA8C,EAA3CC,SAASpB,SAASqB,KAAKnB,MAAMoB,KAAO,OAEvDP,EAAAC,MAAMC,YACX,SACA,GAAWM,OAARxB,GACH,GAAmBwB,QAAhB,EAAAC,EAAAC,kBACH,SAKN,SAASC,EAAcC,GACrBA,EAAMC,iBACN,IAAMC,EAAOF,EAAMG,cAAcC,SAASF,KAAKG,MAC/CnC,EAAAS,KAAK2B,mBAAmBC,QAAQL,KAAOA,EACvCM,IAEF,SAASA,EAAuBR,GAC9B3B,SAASa,cAAc,QAAQL,UAAU4B,OAAO,WAChDvC,EAAAS,KAAK+B,eAAeN,SAASF,KAAKG,MAAQ,GAC1ClC,EAAYE,SAASa,cAAc,QAAQL,WAE7C,SAAS8B,EAAgBX,GACnBA,EAAMY,OAAO/B,UAAUM,SAAS,aAClCqB,IAEER,EAAMY,OAAO/B,UAAUM,SAAS,cAClCqB,ICxEG,I,aCFMK,EAAO,CAClBC,MAAO,CACL,QAAS,OACT,QAAS,WAEXC,QAAS,CACP,QAAS,aACT,QAAS,kBAEXC,cAAe,CACb,QAAS,gBACT,QAAS,gBCNN,SAASC,EAAeC,GAc7B,IAAK,IAAIC,KAAON,EAAM,CAEpB,IAAMO,EAAW,SAAWD,EAG5B9C,SAASa,cAAckC,GAAUC,UAAYR,EAAKM,GAAKD,GAEzD,IAAMI,EAAmBjD,SAASa,cAAc,eAE9CoC,EAAiBC,YADF,UAAbL,EAC6B,eAEA,eA7BnCzC,QAAQC,IAAImC,GLWZ3C,EAAAS,KAAK6C,eAAiBnD,SAASa,cAAc,oBAE7C,IAAIuC,EAAe,OACbC,EAAe,CAAC,QAAS,SAEzBC,EAAiB,IAAI,EAAAC,EAAAC,SAuB3B,SAASC,IACc,SAAjBL,EACFM,IA2EFJ,EACGK,oBACAC,MAAK,SAAAC,GACJC,KACA,EAAAC,EAAAC,kBACEH,EAAKI,QACLX,EAAeY,YACfZ,EAAea,aAGlBC,OAAM,SAAAC,GACL,OAAOA,MAlFX,EAAAN,EAAAO,eAwBF,SAASZ,IACPJ,EAAeiB,iBAAiBX,MAAK,SAAAC,GAEnCC,KACA,EAAAC,EAAAC,kBAAiBH,EAAMP,EAAeY,YAAaZ,EAAea,aAyDtE,SAASL,IACPjE,EAAAS,KAAKkE,YAAYxB,UAAY,GAC7BnD,EAAAS,KAAKmE,gBAAgBzB,UAAY,G,SAGpB0B,I,OAAAA,EAAfC,EAAAhF,EAAA,CAAAgF,EAAAC,GAAAC,MAAA,SAAAC,EAAsCnD,G,IAC9BoD,EACAC,E,qEADAD,EAAUpD,EAAMY,OAAOwC,QACvBC,EAAc1B,EAAeT,SAE9BS,EAAeT,SADpBkC,EAC+B1B,EAAa,GACbA,EAAa,GAExC2B,IAAgB1B,EAAeT,SAAQ,C,gEAGrCS,EAAe2B,gB,OACrBxB,IACAyB,SAASC,KAAOjE,OAAOgE,SAASE,SAChCF,SAASG,S,6CAb0BC,MAAAC,KAAAC,YAerC,WACsBlC,EAAeT,SAAnC,IACMA,EACJ4C,KAAKC,MAAMC,aAAaC,QAAQ,cAAgBvC,EAAa,GAC/DC,EAAeT,SAAWA,EAC1B7C,SAASa,cAAc,QAAQL,UAAUqF,IAAI,GAAYtE,OAATsB,IAE9ChD,EAAAS,KAAK6C,eAAe4B,QADlBlC,IAAaQ,EAAa,GAK9BT,EAAeC,GA/IjBiD,GAGAxC,EAAe2B,gBACfc,EAAAC,OAAOC,KCrBc,CACnBC,SAAU,aACVC,QAAS,IACTC,SAAU,OAEVC,MAAO,QAEPC,SAAU,OACVC,kBAAmB,WACnBC,qBAAsB,IACtBC,oBAAoB,EAEpBC,SAAS,EACTC,cAAc,EACdC,QAAS,CACPC,WAAY,kBACZC,UAAW,UACXC,kBAAmB,qBAErBC,QAAS,CACPH,WAAY,kBACZC,UAAW,UACXC,kBAAmB,0BDCvBlH,EAAAS,KAAKmE,gBAAgBwC,iBAAiB,SAuBtC,SAAgCtF,GAC9B,IAAMuF,EAAcvF,EAAMY,OAAOL,QAAQL,KACzC,GAAoB,QAAhBqF,EAWF,YEtD4B/C,EF4CZb,EAAea,SE3CjB,IAAIgD,SAAQ,SAACC,EAASC,GACpCxH,EAAAS,KAAKgH,cAAcL,iBAAiB,QAAS9E,GAC7CtC,EAAAS,KAAK+B,eAAe4E,iBAAiB,SAAUvF,GAE/C7B,EAAAS,KAAK2B,mBAAmBgF,iBAAiB,QAAS3E,GAClDzC,EAAAS,KAAKC,gBACFM,cAAc,qBACd0G,aAAa,MAAOpD,GACvBtE,EAAAS,KAAK2B,mBAAmBC,QAAQL,KAAO,IAEvC/B,IACA,IAAI0H,EAAQ,KAEZA,EAAQC,aAAY,WAClB,GAAI5H,EAAAS,KAAKC,gBAAgBC,UAAUM,SAAS,aAAc,CACxD,IAAMe,EAAOhC,EAAAS,KAAK2B,mBAAmBC,QAAQL,KAC7C6F,cAAcF,GACO,IAAjBG,OAAO9F,GACTuF,EAAQvF,GAERwF,EAAO,0BAGV,SFqBAzD,MAAK,SAAA/B,GACA8F,OAAO9F,KAAUyB,EAAeY,cAGpC9D,QAAQC,IAAI,uBAAwBwB,GACpCyB,EAAeY,YAAcyD,OAAO9F,GACpC4B,QAEDW,OAAM,SAAAC,G,OAASjE,QAAQC,IAAIgE,MErD3B,IAAyBF,EFwD9B,IAAK+C,EACH,OAEF5D,EAAeY,YAAcyD,OAAOT,GACpCzD,OAzCF5D,EAAAS,KAAKsH,KAAKX,iBAAiB,UAuD3B,SAAsBtF,GACpBA,EAAMC,iBACN,IAAMiG,EAAclG,EAAMG,cAAcC,SAAS8F,YAAY7F,MAAM8F,OAEnE,GADAjI,EAAAS,KAAKsH,KAAK7F,SAAS8F,YAAY7F,MAAQ,GACnB,KAAhB6F,EAEF,YADA9B,EAAAC,OAAOY,QAAQ,yBAA0B,CAAEP,MAAO,UAGpD/C,EAAeuE,YAAcA,EAC7B,IAAME,EAAWzE,EAAeY,YAChCZ,EAAeY,YAAc,EAC7BZ,EACGK,oBACAC,MAAK,SAAAC,GAEJ,GADAzD,QAAQC,IAAIwD,GACgB,IAAxBA,EAAKI,QAAQ+D,OAKf,OAJAjC,EAAAC,OAAOY,QACL,oEAEFtD,EAAeY,YAAc6D,GAG/BzE,EAAea,SAAWN,EAAKoE,YAC/B7E,EAAe,SACfU,KACA,EAAAC,EAAAC,kBACEH,EAAKI,QACLX,EAAeY,YACfZ,EAAea,aAGlBC,OAAM,SAAAC,GACL,OAAOA,QAtFbxE,EAAAS,KAAKkE,YAAYhE,UAAUqF,IAAI,QAC/BhG,EAAAS,KAAK4H,UAAUjB,iBAAiB,SG1BA,WAG5B,GAAoB,SAFAjH,SAASa,cAAc,eAAeqB,QAAQiG,KAAOjH,OAAOyE,aAAaC,QAAQ,SAIrG,OAAO5F,SAASa,cAAc,YAAY0G,aAAa,OAAQ,iEHsBnE1H,EAAAS,KAAK6C,eAAe8D,iBAClB,UACA,EAAAmB,EAAAC,W,SAyGoC1G,G,OAAvB+C,EAAsBY,MAAAC,KAAAC,aAzGF,MAGnBpF,QAARC,IAAIL,SAASa,cAAc,oBAAoBkE,UACvD,EAAAuD,EAAAC,eACA7E,IGpB4B,SADC1D,SAASa,cAAc,eAAeqB,QAAQiG,KAAOjH,OAAOyE,aAAaC,QAAQ,SAG3F5F,SAASa,cAAc,cAAcL,UAAUqF,IAAI,oBAI1D7F,SAASa,cAAc,cAAcX,MAAMsI,QAAU,IAC9CxI,SAASa,cAAc,cAAcL,UAAU4B,OAAO,oB","sources":["src/index.js","src/js/notify-params/notify-styles.js","src/js/modal/modalPagination.js","src/js/AutoForm/js/avtoLogin.js","src/data.js","src/js/languageRender.js"],"sourcesContent":["import { btnDayNight } from './js/btnDayNight';\nimport { renderMoviesList, scrollToTop } from './js/container';\nimport MovieAPiServer from './js/RequestApi/requestAPI';\nimport { refs } from './js/refs';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { paramsNotify } from './js/notify-params/notify-styles';\nimport { modalPagination } from './js/modal/modalPagination';\nimport { funcLoginControl } from './js/AutoForm/js/avtoLogin';\nimport { funcCheck } from './js/AutoForm/js/avtoLogin';\nimport { debounce } from 'lodash';\nimport { languageRender } from './js/languageRender';\n\nrefs.languageSwitch = document.querySelector('.language__input');\n\nlet currentGroup = 'home';\nconst languageList = ['en-US', 'uk-UA'];\n\nconst movieAPiServer = new MovieAPiServer();\n// console.log(movieAPiServer.language);\ncheckLanguage();\n\n// console.log(movieAPiServer.language);\nmovieAPiServer.getGenresList();\nNotify.init(paramsNotify);\n\nrefs.pagginationList.addEventListener('click', onClickPagginationList);\nrefs.form.addEventListener('submit', onSubmitForm);\nrefs.galleryList.classList.add('home');\nrefs.avtoLogin.addEventListener('click', funcLoginControl);\nrefs.languageSwitch.addEventListener(\n  'change',\n  debounce(onChangeLanguageSwitch, 500)\n);\n// window.addEventListener(\"keydown\", toggleModalEscape);// футер модал ескейп\nconsole.log(document.querySelector('.language__input').checked);\nbtnDayNight();\nfetchData();\n\nfuncCheck();\n\nfunction checkCurrentPage() {\n  if (currentGroup === 'home') {\n    fetchData();\n  } else {\n    fetchMovieByQueryAgain();\n  }\n  scrollToTop();\n}\nfunction onClickPagginationList(event) {\n  const currentPage = event.target.dataset.page;\n  if (currentPage === '...') {\n    modalPagination(movieAPiServer.maxPages)\n      .then(page => {\n        if (Number(page) === movieAPiServer.pageCounter) {\n          return;\n        }\n        console.log('перехід на сторінку ', page);\n        movieAPiServer.pageCounter = Number(page);\n        checkCurrentPage();\n      })\n      .catch(error => console.log(error));\n    return;\n  }\n  if (!currentPage) {\n    return;\n  }\n  movieAPiServer.pageCounter = Number(currentPage);\n  checkCurrentPage();\n}\n\nfunction fetchData() {\n  movieAPiServer.fetchTopMovies().then(data => {\n    // console.log('page=', apiService.page, '  maxPages=', apiService.maxPages);\n    clearList();\n    renderMoviesList(data, movieAPiServer.pageCounter, movieAPiServer.maxPages);\n  });\n  // .catch(error => {\n  //   return error;\n  // });\n}\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  const searchQuery = event.currentTarget.elements.searchQuery.value.trim();\n  refs.form.elements.searchQuery.value = '';\n  if (searchQuery === '') {\n    Notify.failure('Please enter something', { width: '180px' });\n    return;\n  }\n  movieAPiServer.searchQuery = searchQuery;\n  const pageHome = movieAPiServer.pageCounter;\n  movieAPiServer.pageCounter = 1;\n  movieAPiServer\n    .fetchMovieByQuery()\n    .then(data => {\n      console.log(data);\n      if (data.results.length === 0) {\n        Notify.failure(\n          'Search result not successful.. Enter the correct movie name'\n        );\n        movieAPiServer.pageCounter = pageHome;\n        return;\n      }\n      movieAPiServer.maxPages = data.total_pages;\n      currentGroup = 'search';\n      clearList();\n      renderMoviesList(\n        data.results,\n        movieAPiServer.pageCounter,\n        movieAPiServer.maxPages\n      );\n    })\n    .catch(error => {\n      return error;\n    });\n}\nfunction fetchMovieByQueryAgain() {\n  movieAPiServer\n    .fetchMovieByQuery()\n    .then(data => {\n      clearList();\n      renderMoviesList(\n        data.results,\n        movieAPiServer.pageCounter,\n        movieAPiServer.maxPages\n      );\n    })\n    .catch(error => {\n      return error;\n    });\n}\nfunction clearList() {\n  refs.galleryList.innerHTML = '';\n  refs.pagginationList.innerHTML = '';\n}\n\nasync function onChangeLanguageSwitch(event) {\n  const checked = event.target.checked;\n  const oldLanguage = movieAPiServer.language;\n  checked\n    ? (movieAPiServer.language = languageList[0])\n    : (movieAPiServer.language = languageList[1]);\n  // console.log(movieAPiServer.language);\n  if (oldLanguage === movieAPiServer.language) {\n    return;\n  }\n  await movieAPiServer.getGenresList();\n  checkCurrentPage();\n  location.href = window.location.pathname;\n  location.reload();\n}\nfunction checkLanguage() {\n  const oldLanguage = movieAPiServer.language;\n  const language =\n    JSON.parse(localStorage.getItem('language')) || languageList[0];\n  movieAPiServer.language = language;\n  document.querySelector('body').classList.add(`${language}`);\n  if (language === languageList[0]) {\n    refs.languageSwitch.checked = true;\n  } else {\n    refs.languageSwitch.checked = false;\n  }\n  languageRender(language);\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst paramsNotify = {\n  position: 'center-top',\n  timeout: 3000,\n  distance: '15px',\n  // fontAwesomeIconSize: '10px', //\n  width: '390px',\n\n  fontSize: '14px', //\n  cssAnimationStyle: 'from-top',\n  cssAnimationDuration: 600,\n  showOnlyTheLastOne: true,\n\n  useIcon: false,\n  clickToClose: true,\n  failure: {\n    background: 'rgba(0,0,0,0.1)',\n    textColor: '#FF001B',\n    notiflixIconColor: 'rgba(200,0,0,0.4)',\n  },\n  success: {\n    background: 'rgba(0,0,0,0.7)',\n    textColor: '#32c682',\n    notiflixIconColor: 'rgba(50,200,130,0.4)',\n  },\n};\nexport { paramsNotify };\n//  return Notify.failure('Search result not successful. Enter the correct movie name.');\n","import { refs } from '../refs';\nimport { close } from './getPost';\nimport { controlScreen } from './controlScreen';\nimport { funcControlArts } from '../arts';\n\n// refs.openModalBtn.addEventListener('click', toggleModal);\n\nexport function modalPagination(maxPages) {\n  const promise = new Promise((resolve, reject) => {\n    refs.closeModalBtn.addEventListener('click', onCloseModalPagination);\n    refs.formPagination.addEventListener('submit', onInputChange);\n    // refs.closeFormButton.addEventListener('click', onCloseModalPagination);\n    refs.backdropPagination.addEventListener('click', onClickBackdrop);\n    refs.modalPagination\n      .querySelector('#pagination-input')\n      .setAttribute('max', maxPages);\n    refs.backdropPagination.dataset.page = '0';\n\n    toggleModal();\n    let timer = null;\n\n    timer = setInterval(() => {\n      if (refs.modalPagination.classList.contains('is-hidden')) {\n        const page = refs.backdropPagination.dataset.page;\n        clearInterval(timer);\n        if (Number(page) !== 0) {\n          resolve(page);\n        } else {\n          reject('перехід не відбувся');\n        }\n      }\n    }, 300);\n  });\n\n  return promise;\n}\n\nfunction toggleModal() {\n  const scrollY = document.documentElement.style.getPropertyValue('--scroll-y');\n  console.log(scrollY);\n  refs.modalPagination.classList.toggle('is-hidden');\n  funcControlArts(document.querySelectorAll('.t-js')); // полный контроль стилей\n\n  if (\n    document.querySelector('[modal-pagination]').classList.contains('is-hidden')\n  ) {\n    close.blockScroll('auto', ``, ``, '');\n    return window.scrollTo(0, parseInt(document.body.style.top || '0') * -1);\n  } else {\n    return close.blockScroll(\n      'scroll',\n      `${scrollY}`,\n      `${controlScreen()}`,\n      'fixed'\n    );\n  }\n}\n\nfunction onInputChange(event) {\n  event.preventDefault();\n  const page = event.currentTarget.elements.page.value;\n  refs.backdropPagination.dataset.page = page;\n  onCloseModalPagination();\n}\nfunction onCloseModalPagination(event) {\n  document.querySelector('body').classList.remove('is-open');\n  refs.formPagination.elements.page.value = '';\n  toggleModal(document.querySelector('body').classList);\n}\nfunction onClickBackdrop(event) {\n  if (event.target.classList.contains('backdrop')) {\n    onCloseModalPagination();\n  }\n  if (event.target.classList.contains('button_no')) {\n    onCloseModalPagination();\n  }\n}\n\n// document.addEventListener(\"keydown\", toggleModalEscape);// нужно тестировать\n\n//  function toggleModalEscape(e) {\n//     if (e.code === 'Escape') {\n//       refs.modalPagination.classList.add('is-hidden');\n//      return  !refs.modalPagination.classList.contains('is-hidden')   &&  window.removeEventListener('keydown', toggleModalEscape);\n//     }   //Валерия для удаления события нужна доп проверка  и второй аргумент в слушатели событий обьязателен\n//   }\n","\n\nexport const funcLoginControl = () => {  // функция ответствена за автологин\n   const controlLogin = document.querySelector('[data-auth]').dataset.auth = window.localStorage.getItem('auth');\n   \n    if (controlLogin != 'true') {   \n        \n    return document.querySelector('.js-auth').setAttribute('href', 'https://dmytrovoitovych.github.io/pr/js/AutoForm/form.html');\n  }\n      \n};\n\n\nexport const funcCheck = () => {\n    \n        const controlLogin = document.querySelector('[data-auth]').dataset.auth = window.localStorage.getItem('auth');\n        if (controlLogin != 'true') {\n        \n            return document.querySelector('.auth-chek').classList.add('visually-hidden');\n    }\n    \n        else {\n            document.querySelector('.auth-chek').style.opacity = '1';\n            return document.querySelector('.auth-chek').classList.remove('visually-hidden')\n            \n    }\n    \n\n };","export const data = {\n  title: {\n    'en-US': 'home',\n    'uk-UA': 'головна',\n  },\n  library: {\n    'en-US': 'my library',\n    'uk-UA': 'моя бібліотека',\n  },\n  authorization: {\n    'en-US': 'Authorization',\n    'uk-UA': 'Авторизація',\n  },\n  // originalTitle: {\n  //   'en-US': 'Original title',\n  //   'uk-UA': 'Оригінальна назва',\n  // },\n};\n","import { data } from '../data.js';\nconsole.log(data);\n\n// const dataArray = JSON.parse(data);\n// console.log(dataArray);\nexport function languageRender(language) {\n  // const title = document.querySelector('.lang-title');\n  // const library = document.querySelector('.lang-library');\n  // console.log(title);\n  // if (language === 'uk-UA') {\n  //   title.innerHTML = 'головна';\n  //   library.innerHTML = 'моя бібліотека';\n  // } else {\n  //   title.innerHTML = 'home';\n  //   library.innerHTML = 'library';\n  // }\n  // location.href = window.location.pathname;\n  // location.reload();\n\n  for (let key in data) {\n    // console.log(key);\n    const selector = `.lang-` + key;\n    // console.log(selector);\n    // console.log(data[key][language]);\n    document.querySelector(selector).innerHTML = data[key][language];\n  }\n  const inputPlaceholder = document.querySelector('.lang-input');\n  if (language === 'uk-UA') {\n    inputPlaceholder.placeholder = 'Пошук фільму';\n  } else {\n    inputPlaceholder.placeholder = 'Movie search';\n  }\n\n  // console.log(key);\n  // const selector = `.lang-` + key;\n  // console.log(selector);\n  // const element = document.querySelector(`.lang-${key}`);\n  // console.log(element);\n}\n"],"names":["$bpxeT","parcelRequire","$4Nugj","$f7c9e6ee08dbb89f$var$toggleModal","scrollY","document","documentElement","style","getPropertyValue","console","log","refs","modalPagination","classList","toggle","$7Y7fB","funcControlArts","querySelectorAll","querySelector","contains","$dmFdG","close","blockScroll","window","scrollTo","parseInt","body","top","concat","$9WW1v","controlScreen","$f7c9e6ee08dbb89f$var$onInputChange","event","preventDefault","page","currentTarget","elements","value","backdropPagination","dataset","$f7c9e6ee08dbb89f$var$onCloseModalPagination","remove","formPagination","$f7c9e6ee08dbb89f$var$onClickBackdrop","target","$03deec68f6ffa0e6$export$4051a07651545597","title","library","authorization","$0e61c2f4c2bee54a$export$7aaa8a5734a0d422","language","key","selector","innerHTML","inputPlaceholder","placeholder","languageSwitch","$b8f9b7833fa37166$var$currentGroup","$b8f9b7833fa37166$var$languageList","$b8f9b7833fa37166$var$movieAPiServer","$fN9hh","default","$b8f9b7833fa37166$var$checkCurrentPage","$b8f9b7833fa37166$var$fetchData","fetchMovieByQuery","then","data","$b8f9b7833fa37166$var$clearList","$g9G2c","renderMoviesList","results","pageCounter","maxPages","catch","error","scrollToTop","fetchTopMovies","galleryList","pagginationList","$b8f9b7833fa37166$var$_onChangeLanguageSwitch","$parcel$interopDefault","$2TvXO","mark","_callee","checked","oldLanguage","getGenresList","location","href","pathname","reload","apply","this","arguments","JSON","parse","localStorage","getItem","add","$b8f9b7833fa37166$var$checkLanguage","$h6c0i","Notify","init","position","timeout","distance","width","fontSize","cssAnimationStyle","cssAnimationDuration","showOnlyTheLastOne","useIcon","clickToClose","failure","background","textColor","notiflixIconColor","success","addEventListener","currentPage","Promise","resolve","reject","closeModalBtn","setAttribute","timer","setInterval","clearInterval","Number","form","searchQuery","trim","pageHome","length","total_pages","avtoLogin","auth","$1WSnx","debounce","$7kasF","btnDayNight","opacity"],"version":3,"file":"index.e431495a.js.map"}