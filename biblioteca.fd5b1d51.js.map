{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,qCCIO,MAAMC,EAAuB,KAC/B,MAAMC,EAAUC,SAASC,cAAc,QAClCC,EAAcF,SAASC,cAAc,kBACpCE,EAAQH,SAASC,cAAc,UAEtC,OAAoC,IAAhCC,EAAYE,SAASC,QAErBF,EAAMG,UAAUC,OAAO,mBACvBJ,EAAMK,MAAMC,QAAU,EAChBV,EAAQO,UAAUI,IAAI,aAI1BP,EAAMG,UAAUI,IAAI,mBACdX,EAAQO,UAAUC,OAAO,aDVf,IAAtBI,EAmDkD,WACpD,MAAMC,EAA0BC,aAAaC,QAAQ,eACrD,IAAIC,EAAc,SACbH,EAGHG,EAAcH,EAFdC,aAAaG,QAAQ,cAAeD,GAItC,OAAOA,EA3DSE,GACdC,EAAO,EAyCkB,IAAWC,IAxCTR,EAyCb,IAAIS,EAAAC,KAAKC,iBAAiBlB,UAClCmB,KAAIC,IACNA,EAAOC,QAAQC,OAASP,GAC1BK,EAAOlB,UAAUI,IAAI,eA1C3BU,EAAAC,KAAKC,iBAAiBK,iBAAiB,SAgBf,SAAAC,GACtB,MAAMC,EAAaD,EAAME,OAAOL,QAAQC,KACxC,GAAIG,IAAelB,EACjB,OAEFA,EAAckB,EACdX,EAAO,EACPL,aAAaG,QAAQ,cAAeL,GACpCoB,EAAOC,IACPd,EAAO,EACPe,IACAnC,EAAqBE,SAASC,cAAc,mBAK5B,IAAImB,EAAAC,KAAKC,iBAAiBlB,UAClCmB,KAAIC,GAAUA,EAAOlB,UAAU4B,OAAO,cAC9CpC,EAAqBE,SAASC,cAAc,sBAjC9CmB,EAAAC,KAAKc,gBAAgBR,iBAAiB,SAyDG,SAATC,GAC9B,MAAMQ,EAAcR,EAAME,OAAOL,QAAQY,KACzC,IAAKD,EACH,OAEFlB,EAAOoB,OAAOF,GACdH,KACA,EAAAM,EAAAC,kBA/DFpB,EAAAC,KAAKoB,SAASd,iBAAiB,WAoFT,WACpBI,EAAOC,IACHD,EAAK1B,OA7FkB,GA6FgB,IACzCqC,QAAQC,IAAI,QACC,IAATzB,IACFA,GAAQ,IAGZe,IACAnC,EAAqBE,SAASC,cAAc,sBA3F9C,IAAI8B,EAAOC,IAgEX,SAASC,IACPb,EAAAC,KAAKnB,YAAY0C,UAAY,GAC7BxB,EAAAC,KAAKc,gBAAgBS,UAAY,GAEjC,MAAMC,EAAUd,EAAKe,QACnB,CAACC,EAAMC,IACLA,GA/EuB,GA+Eb9B,EAAO,IACjB8B,EAhFuB,EAgFf9B,KAEZ,EAAAqB,EAAAU,mBACEJ,EACA3B,EACAgC,KAAKC,KAAKpB,EAAK1B,OArFU,IAwF3BP,EAAqBE,SAASC,cAAc,mBAkBP,SAA9B+B,IACP,MAAMoB,EAAcvC,aAAaC,QAAQ,GAAGH,KAC5C,OAAKyC,EAGEC,KAAKC,MAAMF,GAFT,IAlGX,EAAAxD,EAAA2D,eAEAtB,IACAnC,EAAqBE,SAASC,cAAc,mBAoG5CD,SACGC,cAAc,WACd0B,iBAAiB,QAAS7B","sources":["src/js/bibl.js","src/js/trackingEmptyLibrary/trackingEmptyLibrary.js"],"sourcesContent":["import { btnDayNight } from './btnDayNight';\nimport { renderLibraryList, scrollToTop } from './container';\nimport { refs } from './refs';\nimport { funcControlArts } from './arts';\nimport { trackingEmptyLibrary } from './trackingEmptyLibrary/trackingEmptyLibrary';\n// import { trackingFunFooter } from '../../js/trackingFunFooter/trackingFunFooter';\n\nconst NUMBER_MOVIE_ON_PAGE = 6; //кількість фільмів на сторінку\nlet activeGroup = getActiveGroup();\nlet page = 1; // watched or queued\naddClassSelectedOnActiveButton(activeGroup); //добавляю клас selected на активну групу\n\nrefs.buttonsContainer.addEventListener('click', onClickButtons);\nrefs.pagginationList.addEventListener('click', onClickPagginationList);\nrefs.backdrop.addEventListener('focusin', onCloseModal);\n\nlet data = getDataActiveGroup();\n// window.addEventListener('onload',()=> funcControlArts(document.querySelectorAll('.gallery__title')));\nbtnDayNight();\n\nfetchDataLibrary();\ntrackingEmptyLibrary(document.querySelector('.gallery__list'));\n\n// if (data === 0) {\n//   trackingFunFooter();\n// }\n\n//клік по кнопкам вибору групи\nfunction onClickButtons(event) {\n  const selectData = event.target.dataset.lang;\n  if (selectData === activeGroup) {\n    return;\n  }\n  activeGroup = selectData;\n  page = 1;\n  localStorage.setItem('activeGroup', activeGroup);\n  data = getDataActiveGroup();\n  page = 1;\n  fetchDataLibrary(data);\n  trackingEmptyLibrary(document.querySelector('.gallery__list')); // кон\n  toggleClassOnButtons(selectData);\n}\n//тоглим класи на кнопках при іншому виборі\nfunction toggleClassOnButtons(currentPage) {\n  const buttons = [...refs.buttonsContainer.children];\n  buttons.map(button => button.classList.toggle('selected'));\n  trackingEmptyLibrary(document.querySelector('.gallery__list')); // кон\n}\n\n// добавляєм клас selected для активної групи\nfunction addClassSelectedOnActiveButton(activeGroup) {\n  const buttons = [...refs.buttonsContainer.children];\n  buttons.map(button => {\n    if (button.dataset.lang === activeGroup) {\n      button.classList.add('selected');\n    }\n  });\n}\n// отримуємо активну групу з локалсторадж інакше ставимо активну queued\nfunction getActiveGroup() {\n  const checkStorageactiveGroup = localStorage.getItem('activeGroup');\n  let activeGroup = 'queued';\n  if (!checkStorageactiveGroup) {\n    localStorage.setItem('activeGroup', activeGroup);\n  } else {\n    activeGroup = checkStorageactiveGroup;\n  }\n  return activeGroup;\n}\n//обробляється подія при виборі кнопки пагінації\nfunction onClickPagginationList(event) {\n  const currentPage = event.target.dataset.page;\n  if (!currentPage) {\n    return;\n  }\n  page = Number(currentPage);\n  fetchDataLibrary();\n  scrollToTop();\n}\n\nfunction fetchDataLibrary() {\n  refs.galleryList.innerHTML = '';\n  refs.pagginationList.innerHTML = '';\n\n  const newData = data.filter(\n    (item, index) =>\n      index >= (page - 1) * NUMBER_MOVIE_ON_PAGE &&\n      index < page * NUMBER_MOVIE_ON_PAGE\n  );\n  renderLibraryList(\n    newData,\n    page,\n    Math.ceil(data.length / NUMBER_MOVIE_ON_PAGE)\n  );\n\n  trackingEmptyLibrary(document.querySelector('.gallery__list')); // кон\n}\n//подія при закриті модалки\nfunction onCloseModal() {\n  data = getDataActiveGroup();\n  if (data.length % NUMBER_MOVIE_ON_PAGE === 0) {\n    console.log('ntcn');\n    if (page !== 1) {\n      page -= 1;\n    }\n  }\n  fetchDataLibrary();\n  trackingEmptyLibrary(document.querySelector('.gallery__list'));\n  // if (data === 0) {\n  //   trackingFunFooter();\n  // }\n}\n//отримуємо дані з локалсторадж активної групи\nfunction getDataActiveGroup() {\n  const currentData = localStorage.getItem(`${activeGroup}`);\n  if (!currentData) {\n    return [];\n  }\n  return JSON.parse(currentData);\n}\n\ndocument\n  .querySelector('.wached')\n  .addEventListener('click', trackingEmptyLibrary); // контроль контейнера\n","\n\n\n\nexport const trackingEmptyLibrary = () => { // контродь контейнера\n     const gallery = document.querySelector('body'); \n    const galleryList = document.querySelector('.gallery__list');\n     const empty = document.querySelector('.empty');\n\n    if (galleryList.children.length === 0) {\n        \n        empty.classList.remove('visually-hidden');\n        empty.style.opacity = 1;\n       return gallery.classList.add('overlay');\n\n    }\n    else   {\n          empty.classList.add('visually-hidden');\n        return  gallery.classList.remove('overlay');\n    }\n};\n\n"],"names":["$kaaqg","parcelRequire","$8b0b6d9cb53fcae5$export$f9b8cdd432f1249b","gallery","document","querySelector","galleryList","empty","children","length","classList","remove","style","opacity","add","$defbc16d835a3ec2$var$activeGroup","checkStorageactiveGroup","localStorage","getItem","activeGroup2","setItem","$defbc16d835a3ec2$var$getActiveGroup","$defbc16d835a3ec2$var$page","activeGroup1","$krGWQ","refs","buttonsContainer","map","button","dataset","lang","addEventListener","event","selectData","target","$defbc16d835a3ec2$var$data","$defbc16d835a3ec2$var$getDataActiveGroup","$defbc16d835a3ec2$var$fetchDataLibrary","toggle","pagginationList","currentPage","page","Number","$5zoDb","scrollToTop","backdrop","console","log","innerHTML","newData","filter","item","index","renderLibraryList","Math","ceil","currentData","JSON","parse","btnDayNight"],"version":3,"file":"biblioteca.fd5b1d51.js.map"}